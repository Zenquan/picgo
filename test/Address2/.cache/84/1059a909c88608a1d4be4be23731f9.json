{"id":"index.html","dependencies":[{"name":"_css_loader","parent":"/Users/zenquan/Workspace/GitHub/psion-plugins/test/Address2/index.html","resolved":"/usr/local/lib/node_modules/parcel-bundler/src/builtins/css-loader.js"},{"name":"/Users/zenquan/Workspace/GitHub/psion-plugins/.babelrc","includedInParent":true,"mtime":1607581581973},{"name":"/Users/zenquan/Workspace/GitHub/psion-plugins/package.json","includedInParent":true,"mtime":1607605175819}],"generated":{"html":"<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n    <title>Document</title>\n</head>\n\n<body>\n    <p>省市两级联动</p>\n    <div>\n        <select id=\"giftStyle\"></select>\n        <select id=\"giftSize\"></select>\n    </div>\n    <style>select {\n            height: 30px;\n            border-radius: 4px;\n            color: #333;\n        }</style>\n      \n    <script>var sizes = [{\n  size: '男款',\n  sizeList: [{\n    size: 'XL'\n  }, {\n    size: 'XXL'\n  }]\n}, {\n  size: '女款',\n  sizeList: [{\n    size: 'X'\n  }, {\n    size: 'M'\n  }]\n}];\n\nfunction $(id) {\n  return document.getElementById(id);\n}\n\nfunction Specs(options) {\n  this.giftStyleDom = $('giftStyle');\n  this.giftSizeDom = $('giftSize');\n  this.defaultStyle = options.defaultStyle;\n  this.defaultSize = options.defaultSize;\n  this.giftStyleValue = options.defaultStyle;\n  this.giftSizeValue = options.defaultSize;\n}\n\nSpecs.prototype = {\n  initStyle: function initStyle() {\n    var oFrag = document.createDocumentFragment();\n    this.giftStyleDom.innerHTML = '';\n    this.cal(oFrag, sizes, this.giftStyleDom);\n    this.giftStyleDom.value = this.defaultStyle;\n  },\n  initSize: function initSize() {\n    var index = this.giftStyleDom.selectedIndex,\n        oFrag = document.createDocumentFragment();\n    this.giftSizeDom.innerHTML = '';\n    this.sizeList = sizes[index]['sizeList'];\n    this.cal(oFrag, this.sizeList, this.giftSizeDom);\n    this.giftSizeDom.value = this.defaultSize;\n  },\n  init: function init() {\n    var _this = this;\n\n    this.initStyle();\n    this.initSize();\n\n    this.giftStyleDom.onchange = function () {\n      _this.changeStyle(_this);\n\n      _this.giftStyleValue = _this.giftStyleDom.value;\n    };\n\n    this.giftSizeDom.onchange = function () {\n      var index = this.selectedIndex;\n\n      _this.changeSize(_this, index);\n\n      _this.giftSizeValue = _this.giftSizeDom.value;\n    };\n  },\n  cal: function cal(oFrag, arr, list) {\n    arr.forEach(function (item, arr, index) {\n      var option = document.createElement('option');\n      option.innerHTML = item.size ? item.size : item;\n      oFrag.appendChild(option);\n    });\n    list.appendChild(oFrag);\n  },\n  changeStyle: function changeStyle(_this) {\n    // 选中的索引\n    var index = this.giftStyleDom.selectedIndex,\n        oFrag = document.createDocumentFragment();\n    _this.giftSizeDom.innerHTML = '';\n    _this.sizeList = sizes[index]['sizeList'];\n\n    _this.cal(oFrag, _this.sizeList, _this.giftSizeDom);\n  },\n  changeSize: function changeSize(_this, index) {\n    // 选中的索引\n    var index = index,\n        oFrag = document.createDocumentFragment();\n\n    _this.calCity(_this, index);\n  },\n  calCity: function calCity(_this, index) {\n    _this.sizeList = sizes[index]['sizeList'];\n  }\n};\nvar specs1 = new Specs({\n  defaultStyle: '男款',\n  defaultSize: 'XL'\n});\nspecs1.init();\nconsole.log('>>>', specs1.giftStyleDom.value, specs1.giftSizeDom.value);</script>\n</body>\n\n</html>\n"},"sourceMaps":null,"error":null,"hash":"168bfa08b00174c9423fc120a2eba3cc","cacheData":{"env":{}}}